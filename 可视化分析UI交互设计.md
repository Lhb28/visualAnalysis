# 可视化分析1.0

### 1 插件功能说明

#### 1.1 可视点分析

可视点分析是在空间中确定一个点为起点，另一个点为终点，在起点位置判断空间中的终点相对于起点是否可见

功能：可以判断终点相对于起点是否可见，并绘制起点与交点、交点与终点的连线

起点和终点的确定分为两种情况：1、用户自己输入起点和终点在三维空间中的X、Y和Z坐标，自动根据输入的坐标绘制两种连线段

2、用户通过鼠标在屏幕上点击确定起点和终点的坐标，以同样的方式绘画出两种连线段

#### 1.2 可视平面分析

可视平面分析是在空间中确定一点，然后判断以该点为中心，同一水平面范围内与该点距离为R的范围内的可见平面区域是哪些部分

功能：1、可以自动检测与中心点距离为R的二维平面范围内的可视区域是哪些，并绘制出检测的整个区域和可视区域的范围

2、用户可以自己设置中心点的坐标和扫描半径

中心点和扫描半径的确定方式：1、可以直接在地图场景中通过鼠标点击首先确定中心点的坐标，然后通过鼠标的移动来确定扫描的半径R

2、用户通过在扫描半径输入框和中心点坐标输入框中输入相应的参数来确定扫描半径和中心点坐标

一旦用户输入了中心点坐标和扫描半径，便会在场景中使用肉眼可区分的颜色画出两部分的内容：1、可视区域；2、整个的扫描区域

### 1.3 可视空间分析

可视平面分析是在空间中确定一点，然后判断以该点为中心，在立体空间范围内与该点距离为R的范围内的可见空间区域是哪些部分

功能：1、可以自动检测与中心点距离为R的三维空间范围内的可视空间是哪些，并绘制整个检测空间的上半部分、可视空间的上半部分以及可视空间上半部分与地面相交的平面区域

2、用户可以自己输入中心点的坐标和扫描半径

中心点和扫描半径的确定方式：1、可以直接在地图场景中通过鼠标点击首先确定中心点的坐标，然后通过鼠标的移动来确定扫描的半径R

2、用户通过在扫描半径输入框和中心点坐标输入框中输入相应的参数来确定扫描半径和中心点坐标

一旦用户输入了中心点坐标和扫描半径，便会在场景中使用三种颜色绘出三部分内容：1、可视空间上半球表面；2、整个扫描空间上半球表面；3、可视空间球体与地面相交的区域，

### 2 图形界面说明

#### 2.1 可视点分析图形界面说明

![](./UI设计图/pointAnalysisVisual.JPG)

顶部为检测模式的名称显示区域，中部为坐标区域，坐标值通过文本输入框给出，总共有6个，从上往下依次是：起点X坐标、起点Y坐标、起点Z坐标、终点X坐标、终点Y坐标和终点Z坐标，不管是用户自己输入的坐标还是通

过鼠标点击确定的坐标，都会在这6个文本框中显示

#### 2.2 可视平面分析图形界面说明

![](./UI设计图/planeAnalysisVisual.JPG)

顶部为检测模式的名称显示区域，中部为参数输入区域，扫面半径R和中心点坐标的输入是通过文本框给出，从上往下有四个文本框，依次是：扫面半径输入框、中心点的X坐标、Y坐标和Z坐标输入框

#### 2.3 可视空间分析图形界面说明

![](./UI设计图/spaceAnalysisVisual.JPG)

顶部为检测模式的名称显示区域，中部为参数输入区域，扫面半径R和中心点坐标的输入是通过文本框给出，从上往下有四个文本框，依次是：扫面半径输入框、中心点的X坐标、Y坐标和Z坐标输入框

### 3 交互设计说明

#### 3.1 用户与UI交互

##### 3.1.1 可视点分析

用户选择可视化下面的可视点分析之后，会在界面中显示可视点分析的UI界面，此时用户可以直接在地图场景中使用鼠标点击确定起点终点坐标，用户与UI界面交互有以下几种情况：

1、从上往下，用户在6个文本框中依次输入起点的X、Y、Z坐标和终点的X、Y、Z坐标，然后会在地图上绘制相应的检测结果

2、用户通过鼠标在地图中确定了起点与终点的坐标，并且在地图上已经绘制了两种线段，此时用户如果修改了任一坐标值，那么相应的绘制效果会更新

##### 3.1.2 可视平面分析

用户选择可视化下面的可视平面分析之后，会在界面中显示相对应的UI界面，此时用户可以使用鼠标直接在地图场景中点击确定中心点坐标，然后通过鼠标移动确定扫描半径R的值，用户与UI界面的交互有以下情况：

1、用户在扫面半径输入框和中心点坐标输入框中输入相应的参数值，一旦参数值输入完毕，便会在地图场景中绘制出检测结果

2、当用户通过鼠标已经确定了扫描半径和中心点的坐标，并且绘制出了检测结果，如果用户修改了任意参数值，那么相应的检测结果会更新

##### 3.1.3 可视空间分析

用户选择可视化下面的可视空间分析之后，会在界面中显示相对应的UI界面，此时用户可以使用鼠标直接在地图场景中点击确定中心点坐标，然后通过鼠标移动确定扫描半径R的值，用户与UI界面的交互有以下情况：

1、用户在扫面半径输入框和中心点坐标输入框中输入相应的参数值，一旦参数值输入完毕，便会在地图场景中绘制出检测结果

2、当用户通过鼠标已经确定了扫描半径和中心点的坐标，并且绘制出了检测结果，如果用户修改了任意参数值，那么相应的检测结果会更新

#### 3.2 UI与地图交互

##### 3.2.1 可视点分析

用户选择可视化下面的可视点分析之后，如果用户在UI界面中的起点终点坐标输入框中输入了坐标值，那么在地图上便会绘制出起点交点、交点终点连线段以及会给起点终点打上标注

如果用户没有在UI界面起点终点坐标输入框中输入坐标值，直接在地图上点击确定起点终点坐标，也会绘制出起点交点、交点终点连线段以及会给起点终点打上标注

如果在地图上已经绘制了检测结果，然后改变了UI输入框中的参数值，那么地图上面已经绘制的检测结果会刷新

##### 3.2.2 可视平面分析

用户选择可视化下面的可视平面分析之后，如果用户在扫描半径R和中心点坐标输入框中输入了相应的值，那么地图上立马会绘制出可视区域与整个扫描区域两个部分，还会在地图上标注出中心点的位置

如果用户没有在扫描半径R和中心点坐标输入框中输入相应的值，直接通过鼠标在地图上点击确定中心点坐标和移动鼠标确定扫描半径，一旦之两者确定，便会在地图上绘制出可视区域与整个扫描区域两个部分，还会在地图上标注出中心点

的位置

如果用户改变了UI界面中的扫描半径R或者中心点的坐标值，会按照新的扫面半径R和新的中心点坐标值重新绘制检测结果

##### 3.2.3 可视空间分析

用户选择可视化下面的可视空间分析之后，如果用户在扫描半径R和中心点坐标输入框中输入了相应的值，那么地图上立马会绘制出可视空间上半部分与整个扫描空间上半部分、可视空间上半部分与地面相交平面区域这三部分内容，还

会在地图上标注出中心点的位置

如果用户没有在扫描半径R和中心点坐标输入框中输入相应的值，直接通过鼠标在地图上点击确定中心点坐标和移动鼠标确定扫描半径，一旦之两者确定，便会在地图上绘制出可视空间上半部分与整个扫描空间上半部分、可视空间上半

部分与地面相交平面区域这三部分内容，还会在地图上标注出中心点的位置

如果用户改变了UI界面中的扫描半径R或者中心点的坐标值，会按照新的扫面半径R和中心点坐标值重新绘制检测结果

#### 3.3 地图与UI的交互

##### 3.3.1 可视点分析

用户选择可视化下面的可视点分析之后：

如果用户没有在UI界面起点终点坐标输入框中输入坐标值，直接通过鼠标在地图上点击确定起点终点坐标，那么鼠标在地图上的第一次点击是确定起点坐标，第二次点击是确定终点坐标，一旦完成了一次起点终点坐标的确定，

再次点击会重新确定起点的坐标，下次点击又会重新确定终点的坐标，以此类推，上一次点击的点坐标是起点坐标，下一次点击的点坐标是终点坐标，上一次点击完成，这个点的坐标会在起点输入文本框中显示出来，下一次

点击完成，这个点的坐标会在终点输入文本框中显示，任何一个点的坐标发生改变，文本框中的显示都会更新显示

如果用户在UI界面中的起点终点坐标输入框中输入了坐标值，那么地图上便会绘制出检测结果

##### 3.3.2 可视平面分析

用户选择可视化下面的可视平面分析之后，输入了扫描半径R与中心点的坐标之后：

如果用户没有在中心点坐标输入框中输入扫描半径R和中心点坐标，直接通过鼠标在地图上点击确定中心点坐标和鼠标的移动确定扫描半径R的值，那么每次在地图上点击确定的中心点坐标和扫描半径R都会在相应的输入框中进行显示

如果用户在中心点坐标输入框中输入了扫描半径R和中心点坐标，那么地图上立马会绘制出检测结果

##### 3.3.3 可视空间分析

用户选择可视化下面的可视平面分析之后，输入了扫描半径R与中心点的坐标之后：

如果用户没有在中心点坐标输入框中输入扫描半径R和中心点坐标，直接通过鼠标在地图上点击确定中心点坐标，那么每次在地图上点击确定的中心点坐标和扫描半径R都会在中心点坐标输入框中进行相应的显示

如果用户在中心点坐标输入框中输入了扫描半径R和中心点坐标，那么地图上立马会绘制出检测结果

